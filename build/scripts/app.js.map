{"version":3,"sources":["app.js"],"names":["$","body","webshim","setOptions","lazyCustomMessages","replaceValidationUI","polyfill","phoneLink","md","MobileDetect","window","navigator","userAgent","mobile","attr","data","removeClass","addClass","name","inputmask","greedy","on","e","preventDefault","length","submit","self","selfName","find","selfPhone","selfEmail","formData","serialize","console","log","val","ajax","type","url","success","localStorage","setItem","target","hasClass","location","text","getItem"],"mappings":"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","file":"app.js","sourcesContent":["$(function() {\r\n\r\n    var body = $(\"body\");\r\n\r\n    webshim.setOptions('forms', {\r\n        lazyCustomMessages: true,\r\n        replaceValidationUI: true\r\n    });\r\n    webshim.polyfill('forms');\r\n\r\n    function phoneLink() {\r\n        var md = new MobileDetect(window.navigator.userAgent);\r\n        var phoneLink = $(\"[data-phone]\");\r\n\r\n        if (md.mobile()) {\r\n            phoneLink.attr(\"href\", \"tel:\" + phoneLink.data(\"phone\"));\r\n            phoneLink.removeClass(\"js-small-btn\");\r\n        } else {\r\n            phoneLink.attr(\"href\", \"\");\r\n            phoneLink.addClass(\"js-small-btn\");\r\n        }\r\n    }\r\n    phoneLink();\r\n\r\n\r\n    // form handler\r\n    var name;\r\n\r\n    $(\"input[name=phone]\").inputmask({\r\n        \"mask\": \"+9(999)999-9999\",\r\n        greedy: false,\r\n    });\r\n\r\n    body.on(\"click\", \".js-small-btn\", function(e) {\r\n        e.preventDefault();\r\n\r\n        if (!$(\".thanks\").length) {\r\n            body.addClass(\"form-open\");\r\n            $(\".form-wrap_small\").addClass(\"form-wrap_open\");\r\n        }\r\n    });\r\n\r\n    $(\"#smallForm, #bottomForm\").submit(function(e) {\r\n        e.preventDefault();\r\n        $(\".form-wrap_open\").removeClass(\"form-wrap_open\");\r\n\r\n        var self = $(this);\r\n        var selfName = self.find(\"input[name=name]\");\r\n        var selfPhone = self.find(\"input[name=phone]\");\r\n        var selfEmail = self.find(\"input[name=email]\");\r\n        var formData = self.serialize();\r\n        console.log(formData);\r\n\r\n        $(\"[name=name1]\").val(selfName.val());\r\n        $(\"[name=phone1]\").val(selfPhone.val());\r\n        $(\"[name=email1]\").val(selfEmail.val());\r\n\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \"php/send.php\",\r\n            data: formData,\r\n            success: function(data) {\r\n                //location = \"thanks.html\";\r\n            }\r\n        });\r\n\r\n        body.addClass(\"form-open\");\r\n        $(\".form-wrap_big\").addClass(\"form-wrap_open\");\r\n\r\n        name = selfName.val();\r\n\r\n        if (name) {\r\n            localStorage.setItem(\"f5clientname\", name + \", \");\r\n        } else {\r\n            localStorage.setItem(\"f5clientname\", \"\");\r\n        }\r\n    });\r\n\r\n    body.on(\"click\", function(e) {\r\n        var self = $(e.target);\r\n\r\n        if (self.hasClass(\"form-wrap\") || self.hasClass(\"form__close\")) {\r\n            body.removeClass(\"form-open\");\r\n            $(\".form-wrap\").removeClass(\"form-wrap_open\");\r\n        }\r\n    });\r\n\r\n    $(\"#bigForm\").submit(function(e) {\r\n        e.preventDefault();\r\n\r\n        var self = $(this);\r\n        var formData = self.serialize();\r\n\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \"php/sendpresent.php\",\r\n            data: formData,\r\n            success: function(data) {\r\n                location = \"thanks.html\";\r\n            }\r\n        });\r\n    });\r\n\r\n    if ($(\"#thanksName\").length) {\r\n        $(\"#thanksName\").text(localStorage.getItem(\"f5clientname\"));\r\n    };\r\n    // form handler\r\n});"]}